/* eslint-disable */ 
import{FranklinBlock}from"../../scripts/lib-franklin.js";const createHtmlTableFromDivs=e=>{let t,n;const i=document.createElement("table"),r=Array.from(e.children);if(0===r.length)return i;const l=r.findIndex((e=>"title"===e.firstElementChild.textContent.toLowerCase().trim()));-1!==l&&(t=r[l].lastElementChild,r.splice(l,1));const a=r.findIndex((e=>"disclaimer"===e.firstElementChild.textContent.toLowerCase().trim()));-1!==a&&(n=r[a].lastElementChild,r.splice(a,1));const s=r[0],c=Array.from(s.children),o=c.every((e=>{const t=e.querySelector("strong");return t&&e.textContent.trim()===t.textContent.trim()}));if(o){const e=document.createElement("thead"),t=document.createElement("tr");c.forEach(((e,n)=>{const i=document.createElement("th"),r=e.innerHTML.replace(/<p>(.*?)<\/p>/g,"$1");i.innerHTML=r,i.setAttribute("scope","col"),i.setAttribute("id",`col-${n+1}`),t.appendChild(i)})),e.appendChild(t),i.appendChild(e),r.shift()}const d=document.createElement("tbody");r.forEach((e=>{const t=document.createElement("tr");Array.from(e.children).forEach(((e,n)=>{const i=document.createElement("td"),r=e.innerHTML.replace(/<p>(.*?)<\/p>/g,"$1");i.innerHTML=r,o&&i.setAttribute("headers",`col-${n+1}`),t.appendChild(i)})),d.appendChild(t)})),i.appendChild(d);const m=c.length,p=r.length+(o?1:0);return i.classList.add(`td-count-${m}`,`tr-count-${p}`),{generatedTable:i,disclaimer:n,title:t}};export default class Table extends FranklinBlock{beforeBlockRender(){const{generatedTable:e,disclaimer:t,title:n}=createHtmlTableFromDivs(this.block);if(n){const t=document.createElement("caption");t.classList.add("table-title"),t.innerHTML=n.innerHTML,e.prepend(t)}this.inputData.tableMarkup=e?.outerHTML,this.inputData.title=n?.innerHTML,this.inputData.disclaimer=t?.innerHTML}afterBlockRender(){const e=this.block.querySelector("table");if(e){const t=document.createElement("div");t.className="table-wrapper",e.parentNode.insertBefore(t,e),t.appendChild(e),e.setAttribute("role","grid"),e.setAttribute("cellpadding","0"),e.setAttribute("cellspacing","0"),e.setAttribute("border","0"),e.setAttribute("summary","Data table");e.querySelectorAll("th").forEach((e=>{e.setAttribute("role","columnheader"),e.setAttribute("aria-sort","none")})),"ariaRowCount"in e&&e.setAttribute("aria-rowcount",e.rows.length)}this.block.classList.add("block-padding-standard"),this.block.classList.add("block-padding-desktop-top-24"),this.block.classList.add("block-padding-mobile-x-0"),this.block.classList.add("block-padding-mobile-top-16")}}export const schema='{\n  "table": {\n    "name": "Table",\n    "description": "This is a table block.",\n    "schema": {\n      "classes": []\n    }\n  }\n}\n';export const template=' <div class="core-table-inside block-inside">\n  <div class="table-inside-element">\n      {{ tableMarkup }}\n  </div>\n  {{ #disclaimer }}\n    <div class="table-disclaimer atoms-disclaimer">{{ disclaimer }}</div>\n  {{ /disclaimer }}\n</div>\n';export const smartCaptureConfig=" {}";