/* eslint-disable */ 
import{FranklinBlock,decorateIcons,decorateButtons}from"../../scripts/lib-franklin.js";import{initializeDoctorSearch,getDoctorSearchParams,runDoctorSearches}from"../find-a-doctor/find-a-doctor.js";import FindADoctorList from"./find-a-doctor-list.js";import FindADoctorState from"./find-a-doctor-block-state.js";import FindADoctorBlockPagination from"./find-a-doctor-block-pagination.js";import LocatorMapToggle from"./locator-map-toggle.js";import FindADoctorFilter from"./find-a-doctor-block-filter.js";export default class FindADoctorBlock extends FranklinBlock{constructor(t,o){super(t,o),this.doctorSearch=initializeDoctorSearch(),this.searchParams=getDoctorSearchParams(),this.searchResults={doctorsByName:[],specialtyDoctors:[],nearbyDoctors:[],allDoctors:[]}}async performDoctorSearches(){try{const t=await runDoctorSearches(this.doctorSearch,this.searchParams);return this.searchResults=t,t}catch(t){return console.error("Error performing doctor searches:",t),this.searchResults}}findaDoctorState=null;findaDoctorList=null;viewToggle=null;pagination=null;filter=null;displayTotal(t){this.block.querySelector(".core-find-a-doctor-results").textContent=`${t} result(s) found`}async initialize(){this.findaDoctorState=new FindADoctorState,this.findaDoctorList=new FindADoctorList(this.findaDoctorState,this.block.querySelector(".core-find-a-doctor-list-container")),this.viewToggle=new LocatorMapToggle(this.findaDoctorState,this.block.querySelector(".core-find-a-doctor-right-content"));const{allDoctors:t}=await this.performDoctorSearches();this.findaDoctorState.doctors=t,this.pagination=new FindADoctorBlockPagination(this.findaDoctorState,this.block.querySelector(".core-find-a-doctor-pagination")),this.filter=new FindADoctorFilter(this.findaDoctorState,this.block.querySelector(".core-find-a-doctor-filter-dropdown")),window.addEventListener("resize",(()=>{this.findaDoctorState.resize()})),this.findaDoctorState.addEventListener("totalResultsChanged",(()=>{this.displayTotal(this.findaDoctorState.totalResults)})),this.toggleMap(),this.findaDoctorState.resize(),decorateIcons(this.block),decorateButtons(this.block),this.displayTotal(this.findaDoctorState.totalResults)}toggleMap(){this.findaDoctorState.addEventListener("selectedViewChanged",(()=>{const t=this.block.querySelector(".core-find-a-doctor-map");"grid"===this.findaDoctorState.selectedView?t.classList.add("hidden"):t.classList.remove("hidden")}))}async afterBlockRender(){this.initialize()}}export const schema='{\n  "find-a-doctor-block": {\n    "name": "find-a-doctor-block",\n    "description": "This is the find-a-doctor poc block.",\n    "schema": {\n      "contentAtoms": true\n    }       \n  }\n}\n';export const template=' \n  <div class="core-find-a-doctor-filter">\n    <div class="core-find-a-doctor-filter-container">\n      <div class="core-find-a-doctor-left-content">\n        <div class="core-find-a-doctor-results">\n          <span>XXX result(s) found</span>\n        </div>\n        <div class="core-find-a-doctor-left-filter">\n          <div class="core-find-a-doctor-filter-dropdown">\n          </div>\n          <div class="core-find-a-doctor-filter-right button-container">\n            <em><a><span class="core-find-a-doctor-filter-icon icon icon-lib-filter"></span>Filter</a></em>\n          </a>\n          </div>\n        </div>\n      </div>\n      <div class="core-find-a-doctor-right-content"></div>\n    </div>\n  </div>\n  <div class="core-find-a-doctor-map-list-view">\n    <div class="core-find-a-doctor-list-container">\n    </div>\n    <div class="core-find-a-doctor-map">\n    </div>\n  </div>\n  <div class="core-find-a-doctor-pagination">\n  </div>\n  {{ #contentAtoms.disclaimer }}\n  <div class="core-find-a-doctor-block-disclaimer">\n    {{ contentAtoms.disclaimer }}\n  </div>\n  {{ /contentAtoms.disclaimer }}\n  <dialog id="doctor-details-modal">\n    <div class="modal-content">\n      <div class="close-button-wrapper">\n        <img class="close-modal-button" src="/lib/icons/close-small.svg" alt="Close">\n      </div>\n      <div class="main-modal-content-wrapper">\n        <div class="middle-modal-content-wrapper">\n          <div class="left-side-info atoms-content">\n            <img class="modal-profile-image" src="/lib/icons/doc-profile.svg" alt="Profile Image">\n            <div class="flex-helper">\n              <h3 class="modal-name"></h3>\n              <div class="modal-title"></div>\n              <a href="" class="modal-phone"></a>\n              <a href="" class="modal-address"></a>\n            </div>\n          </div>\n          <div class="right-side-info atoms-content>">\n            <div class="core-find-a-doctor-map"></div>\n            <a href="#" title="Get Directions>" class="button primary">\n              <span class="span-button-text-variant">Get Directions</span>\n              <span class="icon icon-lib-chevron-right" role="img" aria-label="Icon - lib-chevron-right" data-reference-icon="content" data-icon-loaded="true">\n                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 16"><use href="#icons-sprite-lib-chevron-right"></use></svg>\n              </span>\n            </a>\n          </div>\n        </div>\n        <div class="bottom-modal-content-wrapper">\n          <div class="bottom-title">Accepted insurance providers</div>\n          <div class="bottom-middle-text">This list of accepted insurances may change.  Please speak with your provider.</div>\n          <ul class="accepted-insurance-list">\n            <li>[Insurance Provider]</li>\n            <li>[Insurance Provider]</li>\n            <li>[Insurance Provider]</li>\n            <li>[Insurance Provider]</li>\n            <li>[Insurance Provider]</li>\n            <li>[Insurance Provider]</li>\n            <li>[Insurance Provider]</li>\n            <li>[Insurance Provider]</li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </dialog>\n\n';export const smartCaptureConfig=' {\n  "smartcapture": []\n}\n';