/* eslint-disable */ 
import{decorateButtons,decorateIcons,platformFetchPage,FranklinBlock,decorateSections,decorateBlocks,loadBlocks,smartCaptureTags}from"../../scripts/lib-franklin.js";export default class OverlayHost extends FranklinBlock{reset(){this.block.querySelector(".core-overlay-host-container").className="core-overlay-host-container";this.block.querySelector(".core-overlay-host-header").innerHTML="";this.block.querySelector(".core-overlay-host-body").innerHTML="";this.block.querySelector(".core-overlay-host-footer").innerHTML="";this.block.querySelector("dialog").removeAttribute("aria-labelledby")}addCustomClass(e){this.block.querySelector(".core-overlay-host-container").classList.add(e)}setHeadlineHTML(e){if(e?.length>0){const o=this.block.querySelector(".core-overlay-host-header");o.innerHTML=e;const t=o.querySelector("h2, h3, h4");t?.classList.add("accent")}}setBodyHTML(e){if(e?.length<=0)return;const o=this.block.querySelector(".core-overlay-host-body");o.innerHTML=e;const t=OverlayHost.getButtonsHTML(o);t&&(o.querySelector(".atoms-buttons").outerHTML=t)}setFooterHTML(e){if(e?.length<=0)return;this.block.querySelector(".core-overlay-host-footer").innerHTML=e}setAfterScrollHTML(e){if(e?.length<=0)return;this.block.querySelector(".core-overlay-host-after-scroll").innerHTML=e}static getButtonsHTML(e){const o=e.querySelectorAll("a");return o.length<=0?"":`\n        <div class="atoms-buttons">\n        <p class="button-container button-container-multi">\n            ${Array.from(o).map((e=>`\n              <a class="${e.className}" ${e.href?`href=${e.href}`:""} ${e.target?`target="${e.target}"`:""} title="${e.textContent.trim()}">\n                <span>${e.textContent}</span>\n              </a>`)).join("")}\n        </p>\n        </div>\n    `}setArialabelledby(){const e=this.block.querySelector("\n      .core-overlay-host-header h1,\n      .core-overlay-host-header h2,\n      .core-overlay-host-header h3,\n      .core-overlay-host-header h4,\n      .core-overlay-host-header h5,\n      .core-overlay-host-header h6")?.getAttribute("id")??"Dialog";this.block.querySelector("dialog").setAttribute("aria-labelledby",e)}setContentHTML(e){if("loaded"===this.block.getAttribute("data-block-status")){this.reset();const{headlineHTML:o,bodyHTML:t,footerHTML:r,afterScrollHTML:s}=e;this.setHeadlineHTML(o),this.setBodyHTML(t),this.setFooterHTML(r),this.setAfterScrollHTML(s),decorateButtons(this.block),decorateIcons(this.block),this.setArialabelledby(),this.addEventListeners()}}setEventListeners(e){e.forEach((({target:e,action:o})=>this.block.querySelector(e)?.addEventListener("click",o)))}async loadContent(e){this.reset();const o=await platformFetchPage("overlay",e);if(!o)return void console.error("No content found in overlay block");this.block.querySelector(".core-overlay-host-body").innerHTML=o;const t=this.block.querySelector(".core-overlay-host-body");decorateSections(t),decorateButtons(t),decorateIcons(t),decorateBlocks(t),await loadBlocks(t)}handleKeyDown=e=>{"Escape"===e.key&&this.close()};open(){this.block.querySelector("dialog").setAttribute("open",""),document.addEventListener("keydown",this.handleKeyDown)}close(){this.block.querySelector("dialog").removeAttribute("open"),document.removeEventListener("keydown",this.handleKeyDown)}addEventListeners(){this.block.querySelectorAll(".core-overlay-host-close, .core-overlay-host-decline, .core-overlay-host-backdrop").forEach((e=>e.addEventListener("click",(()=>{this.close()}))))}afterBlockRender(){decorateIcons(this.block),this.addEventListeners(),smartCaptureTags([{selector:".core-overlay-host-close",smName:"overlay-close"}],this.block)}}export const schema='{\n  "overlay-host": {\n    "description": "This is the OverlayHost block description",\n    "schema": {\n      "classes": []\n    }\n  }\n}\n';export const template=' <dialog>\n    <div class="core-overlay-host-container">\n        <div class="core-overlay-host-content">\n            <div class="core-overlay-host-close" role="button" aria-label="Close dialog">\n                <span class="icon icon-lib-close-light" ></span>\n            </div>\n            <div class="core-overlay-host-scroll-container">\n                {{! <div class="core-overlay-host-logo"></div> }}\n                <div class="core-overlay-host-header"></div>\n                <div class="core-overlay-host-body">\n                </div>\n                <div class="core-overlay-host-footer"></div>\n                <div class="core-overlay-host-progress">\n                    <svg width="40" height="40" viewBox="-25 -25 250 250">\n                        <circle r="90" cx="100" cy="100" stroke-width="20px" stroke-dashoffset="158px"\n                            fill="transparent" stroke-dasharray="600px"></circle>\n                    </svg>\n                </div>\n            </div>\n            <div class="core-overlay-host-after-scroll"></div>\n        </div>\n        <div class="core-overlay-host-backdrop">\n            {{! + }}\n        </div>\n    </div>\n</dialog>\n';export const smartCaptureConfig=" {}";