/* eslint-disable */ 
import{FranklinBlock,fetchPlaceholders,platformFetchPage,throttle,isAvailableChildrenRow,getAvailableChildrenRow,loadLanguageSelector,setupExtLinks}from"../../scripts/lib-franklin.js";function getSectionName(t){return(t.firstElementChild?.textContent.split("(")[0]??"").toLowerCase()}export default class Footer extends FranklinBlock{languageSelectors=[];activeOnetrustLink=!1;async validateOneTrustInteraction(){const t=this.block.querySelector("div.global-footer").parentElement,e=!!isAvailableChildrenRow(t,"cookie-consent")&&getAvailableChildrenRow(t,"cookie-consent").textContent.trim();this.activeOnetrustLink=e}async updateOnetrustLink(){if(!1===this.activeOnetrustLink)return;const t=this.block.querySelector("div.core-footer-utility-links"),e=document.createElement("a");e.href="#",e.textContent="true"===this.activeOnetrustLink?"Cookie Settings":this.activeOnetrustLink,e.classList.add("onetrust-link"),e.style.cursor="pointer",t.appendChild(e),e.addEventListener("click",(t=>{t.preventDefault(),window?.OneTrust?.ToggleInfoDisplay()}))}async beforeBlockDataRead(){const t=await platformFetchPage("footer","/global/footer"),e=document.createElement("div");e.innerHTML=t,this.block.innerHTML="",this.block.append(e),this.validateOneTrustInteraction();this.block.querySelectorAll(".global-footer > div").forEach((t=>{const e=getSectionName(t);e?t.classList.add(`section-${e}`):console.warn("Header section name not found")}));const n=document.querySelectorAll(".section-navigation > div > ul > li");n?.forEach((t=>{Array.from(t.childNodes).filter((t=>t.nodeType===Node.TEXT_NODE&&t.textContent.trim())).forEach((e=>{const n=document.createElement("span");n.textContent=e.textContent,t.replaceChild(n,e)}))}))}async beforeBlockRender(){const{showFooterLanguageSelector:t}=await fetchPlaceholders("");this.inputData.linkItemCollection?.length||(this.inputData.footerWithoutSiteMap=!0),"true"===this.inputData.languageSection?.languageSelector&&"true"===t||delete this.inputData.languageSection}setLanguageSwitcherPosition(){const t=window.matchMedia("(min-width: 1024px)").matches?"top-right":"bottom-right";this.languageSelectors.forEach((e=>e.setPopupPosition(t)))}setupAccordion(){const t=[...this.block.querySelectorAll("summary")];t.forEach((e=>{e.addEventListener("click",(()=>{t.filter((t=>t!==e)).forEach((t=>t.parentElement.removeAttribute("open")))}))}))}async afterBlockRender(){"footer"===this.block.parentElement.tagName.toLowerCase()&&this.block.parentElement.classList.add("global-layout-full-viewport"),await setupExtLinks(this.block),this.setupAccordion();const t=[...this.block.querySelectorAll(".core-footer-language-switcher")];this.languageSelectors=await Promise.all(t.map((t=>loadLanguageSelector(t)))),this.languageSelectors[0]&&(window.addEventListener("resize",throttle((()=>this.setLanguageSwitcherPosition()),1e3)),this.setLanguageSwitcherPosition()),this.updateOnetrustLink(),this.block.parentElement&&this.block.parentElement.classList.add("core-footer-wrapping-loaded")}}export const schema='{\n  "footer": {\n    "name": "footer",\n    "description": "This is an footer block",\n    "schema": {\n      "linkItemCollection": {\n        "classes": [],\n        "type": "multiple",\n        "description": "This is a collection of accordion items. Each item consists of a header and a body.",\n        "subTarget": ".section-navigation > div > ul > li",\n        "optional": true,\n        "items": {\n          "title": {\n            "selector": ":scope > span",\n            "target": "textContent",\n            "optional": true\n          },\n          "menu": {\n            "selector": ":scope > ul, :scope > a",\n            "target": "outerHTML"\n          }\n        }\n      },\n      "socialSection": {\n        "optional": true,\n        "linkItemCollection": {\n          "type": "multiple",\n          "subTarget": ".section-social ul > li",\n          "optional": true,\n          "items": {\n            "href": {\n              "selector": ":scope > a",\n              "target": "href"\n            },\n            "iconClass": {\n              "selector": ":scope > a > span",\n              "target": "className"\n            }\n          }\n        }\n      },\n      "languageSection": {\n        "languageSelector": {\n          "selector": ".section-language div:nth-of-type(2)",\n          "target": "textContent",\n          "optional": true\n        },\n        "optional": true\n      },\n      "utilityLinksSection": {\n        "linkItemCollection": {\n          "type": "multiple",\n          "subTarget": ".section-utility-links ul > li",\n          "items": {\n            "href": {\n              "selector": ":scope > a",\n              "target": "href"\n            },\n            "text": {\n              "selector": ":scope > a",\n              "target": "textContent"\n            }\n          }\n        }\n      },\n      "logo": {\n        "optional": true,\n        "href": {\n          "selector": ".section-logo  a",\n          "target": "href",\n          "optional": true\n        },\n        "iconClass": {\n          "selector": ".section-logo a span",\n          "target": "className",\n          "optional": true\n        }\n      },\n      "copyRightText": {\n        "selector": ".section-copyright > div:last-of-type",\n        "target": "innerHTML"\n      }\n    }\n  }\n}\n';export const template=' {{ #footerWithoutSiteMap }}\n<div class="core-footer-inside block-inside  core-footer-without-sitemap">\n{{ /footerWithoutSiteMap }}\n\n{{ ^footerWithoutSiteMap }}\n<div class="core-footer-inside block-inside">\n{{ /footerWithoutSiteMap }}\n\n  <div class="core-footer-left">\n    <div class="core-footer-navigation">\n        {{ #linkItemCollection }}\n        <div class="core-footer-navigation-item">\n          <span class="core-footer-navigation-title">{{ title }}</span>\n          {{ menu }}\n        </div>\n        {{ /linkItemCollection }}\n    </div>\n    <div class="core-footer-mobile-navigation">\n      {{ #linkItemCollection }}\n      {{ #title }}\n      <div class="core-footer-accordion-item">\n        <details>\n          <summary class="core-footer-accordion-item-label is-open">\n            <h3>{{ title }}</h3>\n            <span class="icon icon-lib-down-arrow1"></span>\n          </summary>\n          <div class="core-footer-accordion-item-body">\n            {{ menu }}\n          </div>\n        </details>\n      </div>\n      {{ /title }}\n      {{ ^title }}\n      {{ menu }}\n      {{ /title }}\n      {{ /linkItemCollection }}\n    </div>\n    <div class="core-footer-language-social">\n        {{ #languageSection }}\n        <div class="core-footer-language-switcher">\n        </div>\n        {{ /languageSection }}\n      {{ #socialSection }}\n      <div class="core-footer-social">\n        {{ #socialSection.linkItemCollection }}\n        <a href="{{ href }}"  class="button secondary"> <span class="{{ iconClass }}"> </span> </a>\n        {{ /socialSection.linkItemCollection }}\n      </div>\n      {{ /socialSection }}\n    </div>\n  </div>\n  <div class="core-footer-separator"></div>  \n  <div class="core-footer-right">\n    <div class="core-footer-logo-utility-links">\n      {{ #logo }}\n      <div class="core-footer-logo">\n        <a href="{{ logo.href }}"> <span class="{{ logo.iconClass }}"> </span> </a>\n      </div>\n      {{ /logo }}\n      {{ #utilityLinksSection }}\n      <div class="core-footer-utility-links">\n        {{ #utilityLinksSection.linkItemCollection }}\n        <a href="{{ href }}" title="{{ text }}">\n          <span> {{ text }} </span>\n        </a>\n        {{ /utilityLinksSection.linkItemCollection }}\n      </div>\n      {{ /utilityLinksSection }}\n    </div>\n\n    <div class="core-footer-copyright">\n      {{ copyRightText }}\n    </div>\n  </div>\n\n  <div class="core-footer-left core-footer-left-without-sitemap">\n\n    <div class="core-footer-logo-utility-links">\n      {{ #logo }}\n      <div class="core-footer-logo">\n        <a href="{{ logo.href }}" target="_blank"> <span class="{{ logo.iconClass }}"> </span> </a>\n      </div>\n      {{ /logo }}\n      {{ #utilityLinksSection }}\n      <div class="core-footer-utility-links">\n        {{ #utilityLinksSection.linkItemCollection }}\n        <a href="{{ href }}" target="_blank" title="{{ text }}">\n          <span> {{ text }} </span>\n        </a>\n        {{ /utilityLinksSection.linkItemCollection }}\n      </div>\n      {{ /utilityLinksSection }}\n    </div>\n    \n    <div class="core-footer-language-social">\n      {{ #languageSection }}\n        <div class="core-footer-language-switcher">\n        </div>\n        {{ /languageSection }}\n      {{ #socialSection }}\n      <div class="core-footer-social">\n        {{ #socialSection.linkItemCollection }}\n        <p><strong><a href="{{ href }}"> <span class="{{ iconClass }}"> </span></a></p></strong>\n        {{ /socialSection.linkItemCollection }}\n      </div>\n      {{ /socialSection }}\n    </div>\n  </div>\n  <div class="core-footer-separator core-footer-separator-without-sitemap"></div>  \n  <div class="core-footer-right core-footer-right-without-sitemap">\n    <div class="core-footer-copyright">\n      {{ copyRightText }}\n    </div>\n  </div>\n\n</div>\n';export const smartCaptureConfig=' {\n  "smartcapture": [\n    {\n      "selector": "li a",\n      "smName": "footer-link",\n      "event": "click"\n    }\n  ]\n}\n';