/* eslint-disable */ 
import{decorateIcons,FranklinBlock,copyToClipboard}from"../../scripts/lib-franklin.js";export async function fetchFile(e,t){(async()=>{try{const e=await fetch(`${window.location.origin}/lib/icons/_icons.json`);return await e.json()}catch(e){return console.error("Failed to icons",e),{}}})().then((n=>{n.forEach((e=>{const n=e.name.split(".svg")?.[0],c=document.createElement("button");c.classList.add("icon-wrapper-poc");const o=document.createElement("span");o.classList.add("icon"),o.classList.add(`icon-lib-${n}`);const s=document.createElement("p");s.innerHTML=n,c.append(o),c.append(s),c.addEventListener("click",(()=>copyToClipboard(c,"lib-")),!1),t.append(c)})),decorateIcons(t),e.append(t)}))}export default class Icons extends FranklinBlock{async beforeBlockDataRead(){const{children:e}=this.block.children[0];if(!e)return this.block;this.block.textContent="",this.block.innerHTML="";const t=document.createElement("div");return t.classList.add("icons-wrapper-poc"),window?.hlx&&"on"!==window.hlx.lighthouse&&await fetchFile(this.block,t),this.block.append(t),this.block}generateIconSearch(){const e=document.createElement("div");e.classList.add("core-form"),e.classList.add("block"),e.setAttribute("data-block-status","loaded");const t=document.createElement("form");e.append(t);const n=document.createElement("div");n.classList.add("core-form-container"),t.append(n);const c=document.createElement("div");c.classList.add("field-wrapper"),n.append(c);const o=document.createElement("input");o.setAttribute("type","text"),o.placeholder="Search icons",o.classList.add("icon-search"),o.addEventListener("input",(e=>{const t=e.target.value.toLowerCase();this.block.querySelector(".icons-wrapper-poc").querySelectorAll(".icon-wrapper-poc").forEach((e=>{e.querySelector("p").innerHTML.toLowerCase().includes(t)?e.style.display="flex":e.style.display="none"}))})),c.append(o),this.block.prepend(e)}afterBlockRender(){this.generateIconSearch()}}export const schema='{\n  "icons": {\n    "name": "Icons block",\n    "description": "This is just a wrapping block to icons block",\n    "schema": {\n      "classes": [],\n      "initialHtml": {\n        "selector": ":scope > div",\n        "target": "innerHTML"\n      }\n    }\n  }\n}\n';export const template=' <div class="core-icons-content-target">\n  {{ initialHtml }}\n</div>';export const smartCaptureConfig=" {}";