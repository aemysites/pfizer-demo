/* eslint-disable */ 
import{FranklinBlock,platformFetchPage,Select}from"../../scripts/lib-franklin.js";export default class LanguageSelector extends FranklinBlock{constructor(e,t,o,n){super(e,t,o),this.languages=[],this.selectedLanguage="",this.parentToAppend=n,this.popupPosition="bottom-right"}setPopupPosition(e){this.popupPosition=e,this.block.querySelector(".combo-menu")?.classList.remove("bottom-right","bottom-left","top-right","top-left"),this.block.querySelector(".combo-menu")?.classList.add(e)}static generateUniqueId(){return Math.floor(1e4+9e4*Math.random()).toString()}async beforeBlockRender(){let e;try{e=await platformFetchPage("language-selector","/global/language-selector")}catch(e){return console.error("Error fetching language selector from /global/language-selector:",e),null}if(!e)return console.error("No content found for language selector"),null;const t=this.block.querySelector(".language-selector-container"),o=document.createElement("div");o.innerHTML=e;return o.querySelector(".core-language-selector").querySelectorAll(":scope > div").forEach((e=>{const t=e.querySelectorAll("div")[0].innerText,o=e.querySelectorAll("div")[1].innerText,n=t.split("|")[0].trim();this.languages.push({language:n,originalLanguage:t,url:o})})),this.inputData={...this.inputData,languages:this.languages,id:LanguageSelector.generateUniqueId()},t}afterBlockRender(){const e=this.block.querySelector(".js-select");new Select(e,(e=>{let t=this.languages[e].url;t.includes("http")&&t.includes("https")||(t=`https://${t}`),window.open(t,"_blank").focus()}),{options:this.languages.map((e=>e.originalLanguage)),customSelectedOptions:this.languages.map((e=>e.language)),popupPosition:this.popupPosition},this.parentToAppend).init();const t=e.querySelectorAll(".combo-option");t.length>0&&t[0].setAttribute("aria-selected","true")}}export const schema='{\n  "language-selector": {\n    "name": "language-selector",\n    "description": "This is a Language Selector block description",\n    "schema": {\n      "classes": []\n    }\n  }\n}\n';export const template=' <div class="language-selector-container">\n  <div class="combo js-select">\n    <div id="combo{{id}}-label" class="combo-label">language selector</div>\n    <div \n    aria-controls="listbox{{id}}" \n    aria-expanded="false" \n    aria-haspopup="listbox" \n    aria-labelledby="combo{{id}}-label" \n    id="combo{{id}}" \n    class="combo-input" \n    role="combobox" \n    tabindex="0">\n      <span class="icon icon-lib-globe1"> </span>\n    </div>\n    <div class="combo-menu" role="listbox" id="listbox{{id}}" aria-labelledby="combo{{id}}-label" tabindex="-1">\n      <p class="list-title">Select Language</p>\n    </div>\n  </div>\n</div>\n';export const smartCaptureConfig=" {}";